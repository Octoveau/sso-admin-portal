name: Build sso-admin-portal
on:
  push:
    branches:
      - main
jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [16.x]
    steps:
      - uses: actions/checkout@v3
      - name: step npm install ğŸš€
        run: yarn
      - name: step npm build ğŸš€
        run: npm run build
      - name: éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨
        uses: wangyucode/sftp-upload-action@v1.1
        with:
          host: '47.109.22.178' #ä½ çš„nginxæœåŠ¡å™¨å…¬ç½‘ip
          port: '80' #ä½ çš„nginxæœåŠ¡å™¨sshç«¯å£
          username: 'root' #ä½ çš„nginxæœåŠ¡å™¨ç”¨æˆ·å
          password: 'zM1995625@' #ä½ çš„nginxæœåŠ¡å™¨å¯†ç 
          localDir: 'dist' #ä½ vueé¡¹ç›®buildå¥½çš„æ–‡ä»¶çš„è·¯å¾„,æ¯æ¬¡æœåŠ¡å™¨ä¸Šä¼šè‡ªåŠ¨åˆ é™¤å¯¹åº”çš„æ–‡ä»¶å¤¹åé‡æ–°è¦†ç›–
          remoteDir: '/www/looper/sso-admin-portal/'
