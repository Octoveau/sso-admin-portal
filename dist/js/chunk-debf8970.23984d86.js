(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-debf8970"],{"03fd":function(e,r,t){"use strict";t.d(r,"a",(function(){return a})),t.d(r,"b",(function(){return n})),t.d(r,"c",(function(){return c})),t.d(r,"d",(function(){return d}));t("d9e2");const s=(e,r,t)=>{let s=new RegExp("^1\\d{10}$");s.test(r)?t():t(new Error("请输入正确的手机号"))},i=(e,r,t)=>{let s=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[`~!@#$%^&*()_+<>?:"{},.\/\\;'[\]])[A-Za-z\d`~!@#$%^&*()_+<>?:"{},.\/\\;'[\]]{8,}$/;s.test(r)?t():t(new Error("密码至少8位且必有数字+特殊字符+字母"))},o=(e,r,t)=>{let s=/^[0-9]+.?[0-9]*/;s.test(r)?t():t(new Error("请输入正确的数值"))},a={phone:[{required:!0,message:"请输入用户手机号",trigger:"blur"},{validator:o,trigger:"blur"},{validator:s,trigger:"blur"}],password:[{required:!0,message:"请输入用户密码",trigger:"blur"},{validator:i,trigger:"blur"}],verificationCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:o,trigger:"blur"}]},n={phone:[{required:!0,message:"请输入用户手机号",trigger:"blur"},{validator:o,trigger:"blur"},{validator:s,trigger:"blur"}],password:[{required:!0,message:"请输入用户密码",trigger:"blur"},{validator:i,trigger:"blur"}],rePassword:[{required:!0,message:"请再次确认密码",trigger:"blur"},{validator:i,trigger:"blur"}],verificationCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:o,trigger:"blur"}]},c={phone:[{required:!0,message:"请输入用户手机号",trigger:"blur"},{validator:o,trigger:"blur"},{validator:s,trigger:"blur"}],password:[{required:!0,message:"请输入用户密码",trigger:"blur"},{validator:i,trigger:"blur"}],verificationCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:o,trigger:"blur"}]},d={isShowSilder:!1,isSilderSuccess:!1}},"14d9":function(e,r,t){"use strict";var s=t("23e7"),i=t("7b0b"),o=t("07fa"),a=t("3a34"),n=t("3511"),c=t("d039"),d=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();s({target:"Array",proto:!0,arity:1,forced:d||l},{push:function(e){var r=i(this),t=o(r),s=arguments.length;n(t+s);for(var c=0;c<s;c++)r[t]=arguments[c],t++;return a(r,t),t}})},"1b2d":function(e,r,t){e.exports=t.p+"img/loginicon4.9bf402c5.png"},"2a2b":function(e,r,t){"use strict";var s=function(){var e=this,r=e._self._c;return r("section",{staticClass:"back-section"},[r("div",{staticClass:"header"},[e._t("header",(function(){return[r("header",{staticClass:"header"},[r("el-button",{attrs:{type:"text"}},[e._v("用户管理")]),r("el-button",{attrs:{type:"text"}},[e._v("关于我们")]),r("el-button",{attrs:{type:"text"}},[e._v("帮助中心")])],1)]}))],2),r("div",{staticClass:"container"},[e._t("container")],2),e._t("footer",(function(){return[r("el-image",{staticClass:"back-img",attrs:{src:e.footerImg}})]}))],2)},i=[],o=t("eea0"),a=t.n(o),n={data(){return{footerImg:a.a}}},c=n,d=(t("bb72"),t("2877")),l=Object(d["a"])(c,s,i,!1,null,null,null);r["a"]=l.exports},3511:function(e,r){var t=TypeError,s=9007199254740991;e.exports=function(e){if(e>s)throw t("Maximum allowed index exceeded");return e}},3786:function(e,r,t){"use strict";t.d(r,"b",(function(){return i})),t.d(r,"c",(function(){return o})),t.d(r,"a",(function(){return a}));var s=t("365c");const i=e=>s["a"].post("/api/auth/login",e),o=e=>s["a"].post("/api/users/register",e),a=()=>{let e=Math.floor(8999*Math.random())+1e3;return Promise.resolve({data:{code:e},code:200,message:"注册成功"})}},"3a34":function(e,r,t){"use strict";var s=t("83ab"),i=t("e8b5"),o=TypeError,a=Object.getOwnPropertyDescriptor,n=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=n?function(e,r){if(i(e)&&!a(e,"length").writable)throw o("Cannot set read only .length");return e.length=r}:function(e,r){return e.length=r}},"42ba":function(e,r,t){},"6d75":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e._self._c;return r("section",{staticClass:"main"},[r("AuthBackComp",{scopedSlots:e._u([{key:"container",fn:function(){return[r("h3",{staticClass:"h3"},[e._v("Octoveau统一注册端")]),r("RegisterFormComp")]},proxy:!0}])})],1)},i=[],o=t("2a2b"),a=function(){var e=this,r=e._self._c;return r("div",{staticClass:"register-container"},[r("div",{staticClass:"left"},[r("el-image",{staticStyle:{width:"5rem"},attrs:{src:e.registerLeftPic}})],1),r("div",{staticClass:"right"},[r("el-form",{ref:"registerForm",staticClass:"regisetr-form",attrs:{model:e.registerForm,rules:e.registerRules,autocomplete:"on","label-position":"left"}},[r("el-form-item",{attrs:{prop:"phone"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"user"}})],1),r("el-input",{attrs:{placeholder:"手机号",maxlength:"11"},model:{value:e.registerForm.phone,callback:function(r){e.$set(e.registerForm,"phone","string"===typeof r?r.trim():r)},expression:"registerForm.phone"}})],1),r("el-form-item",{attrs:{prop:"verificationCode"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"edit"}})],1),r("el-input",{ref:"verificationcode",attrs:{placeholder:"验证码",name:"verificationCode",maxlength:"4"},model:{value:e.registerForm.verificationCode,callback:function(r){e.$set(e.registerForm,"verificationCode","string"===typeof r?r.trim():r)},expression:"registerForm.verificationCode"}}),r("span",[e.isCanSendCode?r("a",{staticClass:"a-verification",attrs:{loading:e.verCodeLoading},on:{click:e.onGetVerificationCode}},[e._v("获取验证码")]):r("span",{staticStyle:{color:"rgb(185 185 185)"}},[e._v("重新发送"+e._s(e.timeCount)+"(s)")])])],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),r("el-input",{attrs:{maxlength:"20",type:e.passwordType,placeholder:"密码",name:"password"},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password","string"===typeof r?r.trim():r)},expression:"registerForm.password"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),r("el-form-item",{attrs:{prop:"rePassword"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),r("el-input",{attrs:{maxlength:"20",type:e.passwordType,placeholder:"请再次确定密码",name:"password"},model:{value:e.registerForm.rePassword,callback:function(r){e.$set(e.registerForm,"rePassword","string"===typeof r?r.trim():r)},expression:"registerForm.rePassword"}}),r("span",{staticClass:"show-pwd",on:{click:e.reShowPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.rePasswordType?"eye":"eye-open"}})],1)],1),r("el-button",{staticStyle:{width:"100%","margin-bottom":"0.2rem"},attrs:{loading:e.registerLoading,type:"primary"},on:{click:e.onRegister}},[e._v(" "+e._s(e.registerLoading?"注 册 中...":"注 册")+" ")])],1),r("div",{staticClass:"footer"},[r("b",[e._v("已有账号?")]),r("el-button",{attrs:{type:"text"},on:{click:e.gotoLoginPage}},[e._v("去登录")])],1)],1)])},n=[],c=(t("14d9"),t("03fd")),d=t("1b2d"),l=t.n(d),u=t("ed08"),g=t("3786"),p={name:"RegisterPage",data(){return{registerLeftPic:l.a,timer:null,timeCount:60,isCanSendCode:!0,registerForm:{phone:void 0,verificationCode:void 0,password:"",rePassword:""},registerRules:c["b"],passwordType:"password",rePasswordType:"password",registerLoading:!1,verCodeLoading:!1,curVerCode:null}},methods:{onRegister(){this.$refs["registerForm"].validate(e=>{if(e){if(this.registerForm.password!==this.registerForm.rePassword)return this.$message.warning("两次输入的密码不一致，请重新输入!");if(!this.curVerCode)return this.$message.warning("请先获取验证码！");if(this.curVerCode!==this.registerForm.verificationCode)return this.$message.warning("请输入正确的验证码！");let e={phone:this.registerForm.phone,password:this.registerForm.password,nickName:u["a"].randomlyCharacters(6)};this.registerLoading=!0,Object(g["c"])(e).then(e=>{200===e.code&&(this.$message.success("注册成功"),this.$router.push({name:"Login"}))}).finally(()=>{this.registerLoading=!1})}})},onGetVerificationCode(){this.verCodeLoading=!0,Object(g["a"])().then(e=>{this.curVerCode=String(e.data.code),this.$message.success("验证码为:"+this.curVerCode),this.handleCode()}).finally(()=>{this.verCodeLoading=!1})},handleCode(){this.timer=setInterval(()=>{this.timeCount--,0===this.timeCount&&(this.isCanSendCode=!0,clearInterval(this.timer),this.timeCount=60,this.curVerCode=null)},1e3),this.isCanSendCode=!1},gotoLoginPage(){this.$router.push({name:"Login"})},showPwd(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},reShowPwd(){"password"===this.rePasswordType?this.rePasswordType="":this.rePasswordType="password"}}},h=p,m=(t("e9f1"),t("2877")),f=Object(m["a"])(h,a,n,!1,null,"4dde8890",null),w=f.exports,v={components:{AuthBackComp:o["a"],RegisterFormComp:w}},b=v,C=Object(m["a"])(b,s,i,!1,null,null,null);r["default"]=C.exports},bb72:function(e,r,t){"use strict";t("42ba")},e5d7:function(e,r,t){},e8b5:function(e,r,t){var s=t("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}},e9f1:function(e,r,t){"use strict";t("e5d7")},ed08:function(e,r,t){"use strict";t("14d9");class s{constructor(){}createRandomId(){return`${10*Math.random()}-${(new Date).getTime()}-${10*Math.random()}`}randomlyCharacters(e){let r=[];for(let s=0;s<e;s++){let e;e="\\u"+(Math.floor(20901*Math.random())+19968).toString(16),e=unescape(e.replace(/\\u/g,"%u")),r.push(e)}let t=r.join("");return t}}r["a"]=new s},eea0:function(e,r,t){e.exports=t.p+"img/footer.5f2538a4.png"}}]);
//# sourceMappingURL=chunk-debf8970.23984d86.js.map