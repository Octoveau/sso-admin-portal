(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3db7254"],{"03fd":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return l}));r("d9e2");const s=(e,t,r)=>{let s=new RegExp("^1\\d{10}$");s.test(t)?r():r(new Error("请输入正确的手机号"))},o=(e,t,r)=>{let s=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[`~!@#$%^&*()_+<>?:"{},.\/\\;'[\]])[A-Za-z\d`~!@#$%^&*()_+<>?:"{},.\/\\;'[\]]{8,}$/;s.test(t)?r():r(new Error("密码至少8位且必有数字+特殊字符+字母"))},i=(e,t,r)=>{let s=/^[0-9]+.?[0-9]*/;s.test(t)?r():r(new Error("请输入正确的数值"))},a={phone:[{required:!0,message:"请输入用户手机号",trigger:"blur"},{validator:i,trigger:"blur"},{validator:s,trigger:"blur"}],password:[{required:!0,message:"请输入用户密码",trigger:"blur"},{validator:o,trigger:"blur"}],verificationCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:i,trigger:"blur"}]},n={phone:[{required:!0,message:"请输入用户手机号",trigger:"blur"},{validator:i,trigger:"blur"},{validator:s,trigger:"blur"}],password:[{required:!0,message:"请输入用户密码",trigger:"blur"},{validator:o,trigger:"blur"}],rePassword:[{required:!0,message:"请再次确认密码",trigger:"blur"},{validator:o,trigger:"blur"}],verificationCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:i,trigger:"blur"}]},c={phone:[{required:!0,message:"请输入用户手机号",trigger:"blur"},{validator:i,trigger:"blur"},{validator:s,trigger:"blur"}],password:[{required:!0,message:"请输入用户密码",trigger:"blur"},{validator:o,trigger:"blur"}],verificationCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{validator:i,trigger:"blur"}]},l={isShowSilder:!1,isSilderSuccess:!1}},"14d9":function(e,t,r){"use strict";var s=r("23e7"),o=r("7b0b"),i=r("07fa"),a=r("3a34"),n=r("3511"),c=r("d039"),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();s({target:"Array",proto:!0,arity:1,forced:l||d},{push:function(e){var t=o(this),r=i(t),s=arguments.length;n(r+s);for(var c=0;c<s;c++)t[r]=arguments[c],r++;return a(t,r),r}})},1840:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"main"},[t("AuthBackComp",{scopedSlots:e._u([{key:"container",fn:function(){return[t("h3",{staticClass:"h3"},[e._v("Octoveau统一找回密码端")]),t("ResetFormComp")]},proxy:!0}])})],1)},o=[],i=r("2a2b"),a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"reset-container"},[t("div",{staticClass:"left"},[t("el-image",{staticStyle:{width:"5rem"},attrs:{src:e.resetLeftPic}})],1),t("div",{staticClass:"right"},[t("el-form",{ref:"resetForm",staticClass:"reset-form",attrs:{model:e.resetForm,rules:e.resetRules,autocomplete:"on","label-position":"left"}},[t("el-form-item",{attrs:{prop:"phone"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),t("el-input",{attrs:{placeholder:"手机号",maxlength:"11"},model:{value:e.resetForm.phone,callback:function(t){e.$set(e.resetForm,"phone","string"===typeof t?t.trim():t)},expression:"resetForm.phone"}})],1),t("el-form-item",{attrs:{prop:"verificationCode"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"edit"}})],1),t("el-input",{ref:"verificationcode",attrs:{placeholder:"验证码",name:"verificationCode",maxlength:"4"},model:{value:e.resetForm.verificationCode,callback:function(t){e.$set(e.resetForm,"verificationCode","string"===typeof t?t.trim():t)},expression:"resetForm.verificationCode"}}),t("span",[e.isCanSendCode?t("a",{staticClass:"a-verification",attrs:{loading:e.verCodeLoading},on:{click:e.onGetVerificationCode}},[e._v("获取验证码")]):t("span",{staticStyle:{color:"rgb(185 185 185)"}},[e._v("重新发送"+e._s(e.timeCount)+"(s)")])])],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),t("el-input",{attrs:{maxlength:"20",type:e.passwordType,placeholder:"密码",name:"password"},model:{value:e.resetForm.password,callback:function(t){e.$set(e.resetForm,"password","string"===typeof t?t.trim():t)},expression:"resetForm.password"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),t("el-button",{staticStyle:{width:"100%","margin-bottom":"0.2rem"},attrs:{loading:e.resetLoading,type:"primary"},on:{click:e.onReset}},[e._v(" "+e._s(e.resetLoading?"提 交 中...":"提 交")+" ")])],1),t("div",{staticClass:"footer"},[t("b",[e._v("还没注册?")]),t("el-button",{attrs:{type:"text"},on:{click:e.gotoRegisterPage}},[e._v("去注册")])],1)],1)])},n=[],c=(r("14d9"),r("03fd")),l=r("1b2d"),d=r.n(l),u=r("ed08"),g=r("3786"),p={name:"ResetPage",data(){return{resetLeftPic:d.a,timer:null,timeCount:60,isCanSendCode:!0,resetForm:{phone:void 0,verificationCode:void 0,password:""},resetRules:c["c"],passwordType:"password",resetLoading:!1,verCodeLoading:!1,curVerCode:null}},methods:{onReset(){this.$refs["resetForm"].validate(e=>{if(e){if(!this.curVerCode)return this.$message.warning("请先获取验证码！");if(this.curVerCode!==this.resetForm.verificationCode)return this.$message.warning("请输入正确的验证码！");let e={phone:this.resetForm.phone,password:this.resetForm.password,nickName:u["a"].randomlyCharacters(6)};this.resetLoading=!0,Object(g["resetUser"])(e).then(e=>{this.handleResult(e,!0)}).finally(()=>{this.resetLoading=!1})}})},onGetVerificationCode(){this.verCodeLoading=!0,Object(g["a"])().then(e=>{this.curVerCode=this.handleResult(e),this.handleCode()}).finally(()=>{this.verCodeLoading=!1})},handleCode(){this.timer=setInterval(()=>{this.timeCount--,0===this.timeCount&&(this.isCanSendCode=!0,clearInterval(this.timer),this.timeCount=60,this.curVerCode=null)},1e3),this.isCanSendCode=!1},gotoRegisterPage(){this.$router.push({name:"Register"})},showPwd(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"}}},f=p,h=(r("5e08"),r("2877")),m=Object(h["a"])(f,a,n,!1,null,"07f873f5",null),v=m.exports,b=r("eea0"),C=r.n(b),w={components:{AuthBackComp:i["a"],ResetFormComp:v},data(){return{footerImg:C.a}}},y=w,x=(r("35d2"),Object(h["a"])(y,s,o,!1,null,"e6702678",null));t["default"]=x.exports},"1b2d":function(e,t,r){e.exports=r.p+"img/loginicon4.9bf402c5.png"},"2a2b":function(e,t,r){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"back-section"},[t("div",{staticClass:"header"},[e._t("header",(function(){return[t("header",{staticClass:"header"},[t("el-button",{attrs:{type:"text"}},[e._v("用户管理")]),t("el-button",{attrs:{type:"text"}},[e._v("关于我们")]),t("el-button",{attrs:{type:"text"}},[e._v("帮助中心")])],1)]}))],2),t("div",{staticClass:"container"},[e._t("container")],2),e._t("footer",(function(){return[t("el-image",{staticClass:"back-img",attrs:{src:e.footerImg}})]}))],2)},o=[],i=r("eea0"),a=r.n(i),n={data(){return{footerImg:a.a}}},c=n,l=(r("bb72"),r("2877")),d=Object(l["a"])(c,s,o,!1,null,null,null);t["a"]=d.exports},3511:function(e,t){var r=TypeError,s=9007199254740991;e.exports=function(e){if(e>s)throw r("Maximum allowed index exceeded");return e}},"35d2":function(e,t,r){"use strict";r("f139")},3786:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a}));var s=r("365c");const o=e=>s["a"].post("/api/auth/login",e),i=e=>s["a"].post("/api/users/register",e),a=()=>{let e=Math.floor(8999*Math.random())+1e3;return Promise.resolve({data:{code:e},code:200,message:"注册成功"})}},"3a34":function(e,t,r){"use strict";var s=r("83ab"),o=r("e8b5"),i=TypeError,a=Object.getOwnPropertyDescriptor,n=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=n?function(e,t){if(o(e)&&!a(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"42ba":function(e,t,r){},"5e08":function(e,t,r){"use strict";r("75d5")},"75d5":function(e,t,r){},bb72:function(e,t,r){"use strict";r("42ba")},e8b5:function(e,t,r){var s=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}},ed08:function(e,t,r){"use strict";r("14d9");class s{constructor(){}createRandomId(){return`${10*Math.random()}-${(new Date).getTime()}-${10*Math.random()}`}randomlyCharacters(e){let t=[];for(let s=0;s<e;s++){let e;e="\\u"+(Math.floor(20901*Math.random())+19968).toString(16),e=unescape(e.replace(/\\u/g,"%u")),t.push(e)}let r=t.join("");return r}}t["a"]=new s},eea0:function(e,t,r){e.exports=r.p+"img/footer.5f2538a4.png"},f139:function(e,t,r){}}]);
//# sourceMappingURL=chunk-e3db7254.aefa5867.js.map